<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 R을 사용한 비구획분석 | R을 사용한 비구획분석과 생물학적동등성 평가</title>
  <meta name="description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다." />
  <meta name="generator" content="bookdown 0.19.1 and GitBook 2.6.7" />

  <meta property="og:title" content="3 R을 사용한 비구획분석 | R을 사용한 비구획분석과 생물학적동등성 평가" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://asancpt.github.io/book-ncar/" />
  <meta property="og:image" content="https://asancpt.github.io/book-ncar/images/cover.jpg" />
  <meta property="og:description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다." />
  <meta name="github-repo" content="asancpt/book-ncar" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 R을 사용한 비구획분석 | R을 사용한 비구획분석과 생물학적동등성 평가" />
  
  <meta name="twitter:description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다." />
  <meta name="twitter:image" content="https://asancpt.github.io/book-ncar/images/cover.jpg" />

<meta name="author" content="배균섭, 한성필, 윤석규, 조용순, 김형섭" />


<meta name="date" content="2020-06-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="R-and-packages.html"/>
<link rel="next" href="ncar.html"/>
<script src="libs/header-attrs-2.2/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">R을 사용한 비구획분석과 생물학적동등성 평가</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>책 머리에</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#저자소개"><i class="fa fa-check"></i>저자소개</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> 비구획 분석이란</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#summary-introduction"><i class="fa fa-check"></i><b>1.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#PK-introduction"><i class="fa fa-check"></i><b>1.2</b> 약동학</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#ncar-method"><i class="fa fa-check"></i><b>1.3</b> 비구획 분석 이론 및 계산 방법</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#계산-공식"><i class="fa fa-check"></i><b>1.4</b> 계산 공식</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="R-and-packages.html"><a href="R-and-packages.html"><i class="fa fa-check"></i><b>2</b> R과 그 패키지에 대하여</a>
<ul>
<li class="chapter" data-level="2.1" data-path="R-and-packages.html"><a href="R-and-packages.html#summary-r-packages"><i class="fa fa-check"></i><b>2.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="2.2" data-path="R-and-packages.html"><a href="R-and-packages.html#basic"><i class="fa fa-check"></i><b>2.2</b> R에 대하여</a></li>
<li class="chapter" data-level="2.3" data-path="R-and-packages.html"><a href="R-and-packages.html#install"><i class="fa fa-check"></i><b>2.3</b> 설치</a></li>
<li class="chapter" data-level="2.4" data-path="R-and-packages.html"><a href="R-and-packages.html#otherinstall"><i class="fa fa-check"></i><b>2.4</b> 기타 설치</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="noncompart.html"><a href="noncompart.html"><i class="fa fa-check"></i><b>3</b> R을 사용한 비구획분석</a>
<ul>
<li class="chapter" data-level="3.1" data-path="noncompart.html"><a href="noncompart.html#summary-noncompart"><i class="fa fa-check"></i><b>3.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="3.2" data-path="noncompart.html"><a href="noncompart.html#how-to-use"><i class="fa fa-check"></i><b>3.2</b> NonCompart 사용법</a></li>
<li class="chapter" data-level="3.3" data-path="noncompart.html"><a href="noncompart.html#interval-NCA"><i class="fa fa-check"></i><b>3.3</b> 구간 NCA</a></li>
<li class="chapter" data-level="3.4" data-path="noncompart.html"><a href="noncompart.html#functions"><i class="fa fa-check"></i><b>3.4</b> 함수 살펴보기</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="noncompart.html"><a href="noncompart.html#auc"><i class="fa fa-check"></i><b>3.4.1</b> AUC</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="noncompart.html"><a href="noncompart.html#long-format"><i class="fa fa-check"></i><b>3.5</b> 긴 형식으로 변환하면서 단위 추가하기</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ncar.html"><a href="ncar.html"><i class="fa fa-check"></i><b>4</b> R을 사용한 비구획분석 보고서</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ncar.html"><a href="ncar.html#summary-ncar"><i class="fa fa-check"></i><b>4.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="4.2" data-path="ncar.html"><a href="ncar.html#txtnca"><i class="fa fa-check"></i><b>4.2</b> txtNCA()</a></li>
<li class="chapter" data-level="4.3" data-path="ncar.html"><a href="ncar.html#pdfnca"><i class="fa fa-check"></i><b>4.3</b> pdfNCA()</a></li>
<li class="chapter" data-level="4.4" data-path="ncar.html"><a href="ncar.html#rtfnca"><i class="fa fa-check"></i><b>4.4</b> rtfNCA()</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pkr.html"><a href="pkr.html"><i class="fa fa-check"></i><b>5</b> R을 사용한 비구획분석 시각화</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pkr.html"><a href="pkr.html#summary-pkr"><i class="fa fa-check"></i><b>5.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="5.2" data-path="pkr.html"><a href="pkr.html#pkr-manual"><i class="fa fa-check"></i><b>5.2</b> pkr 사용법</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rsimulation.html"><a href="rsimulation.html"><i class="fa fa-check"></i><b>6</b> R을 사용한 약동학 시뮬레이션</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rsimulation.html"><a href="rsimulation.html#summary-simulation"><i class="fa fa-check"></i><b>6.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="6.2" data-path="rsimulation.html"><a href="rsimulation.html#sim-about"><i class="fa fa-check"></i><b>6.2</b> 시뮬레이션에 대하여</a></li>
<li class="chapter" data-level="6.3" data-path="rsimulation.html"><a href="rsimulation.html#sim-nca"><i class="fa fa-check"></i><b>6.3</b> 시뮬레이션 후 비구획분석</a></li>
<li class="chapter" data-level="6.4" data-path="rsimulation.html"><a href="rsimulation.html#sim-app"><i class="fa fa-check"></i><b>6.4</b> 앱을 통해 살펴보는 시뮬레이션</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="rsimulation.html"><a href="rsimulation.html#shiny"><i class="fa fa-check"></i><b>6.4.1</b> shiny 앱</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bioequivalence.html"><a href="bioequivalence.html"><i class="fa fa-check"></i><b>7</b> 생물학적 동등성</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bioequivalence.html"><a href="bioequivalence.html#method"><i class="fa fa-check"></i><b>7.1</b> 이론 및 계산방법</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="bioequivalence.html"><a href="bioequivalence.html#edison-사이언스-앱-r-샤이니-앱과-r-패키지"><i class="fa fa-check"></i><b>7.1.1</b> EDISON 사이언스 앱, R 샤이니 앱과 R 패키지</a></li>
<li class="chapter" data-level="7.1.2" data-path="bioequivalence.html"><a href="bioequivalence.html#모형"><i class="fa fa-check"></i><b>7.1.2</b> 모형</a></li>
<li class="chapter" data-level="7.1.3" data-path="bioequivalence.html"><a href="bioequivalence.html#sas-코드"><i class="fa fa-check"></i><b>7.1.3</b> SAS 코드</a></li>
<li class="chapter" data-level="7.1.4" data-path="bioequivalence.html"><a href="bioequivalence.html#자료의-형태-자료의-구성요소"><i class="fa fa-check"></i><b>7.1.4</b> 자료의 형태, 자료의 구성요소</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="bioequivalence.html"><a href="bioequivalence.html#result"><i class="fa fa-check"></i><b>7.2</b> 결과</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="bioequivalence.html"><a href="bioequivalence.html#noncompartedison-앱을-통한-비구획분석"><i class="fa fa-check"></i><b>7.2.1</b> NonCompartEdison 앱을 통한 비구획분석</a></li>
<li class="chapter" data-level="7.2.2" data-path="bioequivalence.html"><a href="bioequivalence.html#edisonbe-앱을-통한-생물학적동등성-판단"><i class="fa fa-check"></i><b>7.2.2</b> edisonBE 앱을 통한 생물학적동등성 판단</a></li>
<li class="chapter" data-level="7.2.3" data-path="bioequivalence.html"><a href="bioequivalence.html#신뢰구간의-sas-결과값과-비교"><i class="fa fa-check"></i><b>7.2.3</b> 90% 신뢰구간의 SAS 결과값과 비교</a></li>
<li class="chapter" data-level="7.2.4" data-path="bioequivalence.html"><a href="bioequivalence.html#샘플-수-계산"><i class="fa fa-check"></i><b>7.2.4</b> 샘플 수 계산</a></li>
<li class="chapter" data-level="7.2.5" data-path="bioequivalence.html"><a href="bioequivalence.html#r-샤이니-앱"><i class="fa fa-check"></i><b>7.2.5</b> R 샤이니 앱</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="bioequivalence.html"><a href="bioequivalence.html#discussion"><i class="fa fa-check"></i><b>7.3</b> 논의</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>8</b> 통계처리</a>
<ul>
<li class="chapter" data-level="8.1" data-path="statistics.html"><a href="statistics.html#stat-intro"><i class="fa fa-check"></i><b>8.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="8.2" data-path="statistics.html"><a href="statistics.html#stat-desc"><i class="fa fa-check"></i><b>8.2</b> 기술통계량 구하기</a></li>
<li class="chapter" data-level="8.3" data-path="statistics.html"><a href="statistics.html#dp"><i class="fa fa-check"></i><b>8.3</b> Dose Proportionality</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>9</b> 결론</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="wnl-comparison.html"><a href="wnl-comparison.html"><i class="fa fa-check"></i><b>A</b> Phoenix WinNonLin 과 결과 비교</a>
<ul>
<li class="chapter" data-level="A.1" data-path="wnl-comparison.html"><a href="wnl-comparison.html#conclusion-1"><i class="fa fa-check"></i><b>A.1</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="softwares.html"><a href="softwares.html"><i class="fa fa-check"></i><b>B</b> 기타 비구획분석 소프트웨어</a>
<ul>
<li class="chapter" data-level="B.1" data-path="softwares.html"><a href="softwares.html#detailschapter"><i class="fa fa-check"></i><b>B.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="B.2" data-path="softwares.html"><a href="softwares.html#certara-phoenix-winnonlin"><i class="fa fa-check"></i><b>B.2</b> Certara Phoenix WinNonLin</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="softwares.html"><a href="softwares.html#pros"><i class="fa fa-check"></i><b>B.2.1</b> Pros</a></li>
<li class="chapter" data-level="B.2.2" data-path="softwares.html"><a href="softwares.html#cons"><i class="fa fa-check"></i><b>B.2.2</b> Cons</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="softwares.html"><a href="softwares.html#r-package-pknca"><i class="fa fa-check"></i><b>B.3</b> R package: PKNCA</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="softwares.html"><a href="softwares.html#isop-pharmacometrics-study-group-presentation"><i class="fa fa-check"></i><b>B.3.1</b> ISoP Pharmacometrics Study Group Presentation</a></li>
<li class="chapter" data-level="B.3.2" data-path="softwares.html"><a href="softwares.html#opennca"><i class="fa fa-check"></i><b>B.3.2</b> 오픈소스 NCA - 지금이 적기이다.</a></li>
<li class="chapter" data-level="B.3.3" data-path="softwares.html"><a href="softwares.html#pros-1"><i class="fa fa-check"></i><b>B.3.3</b> Pros</a></li>
<li class="chapter" data-level="B.3.4" data-path="softwares.html"><a href="softwares.html#cons-1"><i class="fa fa-check"></i><b>B.3.4</b> Cons</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="softwares.html"><a href="softwares.html#r-package-ncappc"><i class="fa fa-check"></i><b>B.4</b> R package: ncappc</a></li>
<li class="chapter" data-level="B.5" data-path="softwares.html"><a href="softwares.html#r-package-pk"><i class="fa fa-check"></i><b>B.5</b> R package: PK</a></li>
<li class="chapter" data-level="B.6" data-path="softwares.html"><a href="softwares.html#kinetica"><i class="fa fa-check"></i><b>B.6</b> Kinetica</a></li>
<li class="chapter" data-level="B.7" data-path="softwares.html"><a href="softwares.html#scientist"><i class="fa fa-check"></i><b>B.7</b> Scientist</a></li>
<li class="chapter" data-level="B.8" data-path="softwares.html"><a href="softwares.html#pksolver"><i class="fa fa-check"></i><b>B.8</b> PKSolver</a></li>
<li class="chapter" data-level="B.9" data-path="softwares.html"><a href="softwares.html#summary"><i class="fa fa-check"></i><b>B.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="groupreport.html"><a href="groupreport.html"><i class="fa fa-check"></i><b>C</b> R에 내장된 자료의 비구획분석 보고서</a>
<ul>
<li class="chapter" data-level="C.1" data-path="groupreport.html"><a href="groupreport.html#theophgroup"><i class="fa fa-check"></i><b>C.1</b> Theoph의 보고서</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="support.html"><a href="support.html"><i class="fa fa-check"></i><b>D</b> 지원</a></li>
<li class="chapter" data-level="E" data-path="session-info.html"><a href="session-info.html"><i class="fa fa-check"></i><b>E</b> 세션 정보</a></li>
<li class="chapter" data-level="" data-path="참고문헌.html"><a href="참고문헌.html"><i class="fa fa-check"></i>참고문헌</a></li>
<li class="divider"></li>
<li><a href="https://pipetbooks.netlify.com">PIPET 출판</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R을 사용한 비구획분석과 생물학적동등성 평가</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="noncompart" class="section level1" number="3">
<h1><span class="header-section-number">3</span> R을 사용한 비구획분석</h1>
<div id="summary-noncompart" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> 이 장에서는</h2>
<p><code>NonCompart</code> <span class="citation">(Bae <a href="#ref-R-NonCompart" role="doc-biblioref">2020</a>)</span>은 비구획 분석을 R을 통해 쉽고 빠르게 (매우 빠르게) 행할 수 있는 패키지입니다.
약동학 교재의 내용을 충실히 반영하였습니다. <span class="citation">(Gabrielsson <a href="#ref-gab" role="doc-biblioref">2016</a>; Rowland <a href="#ref-tozer" role="doc-biblioref">2011</a>)</span>
이에 대해 좀더 자세히 알아보겠습니다.</p>
<p><code>NonCompart</code>의 <code>DESCRIPTION</code> 파일을 보면 다음과 같이 설명하고 있습니다.</p>
<blockquote>
<p>Conduct a noncompartmental analysis with industrial strength.
Some features are
1) Use of CDISC SDTM terms
2) Automatic or manual slope selection
3) Supporting both ‘linear-up linear-down’ and ‘linear-up log-down’ method
4) Interval(partial) AUCs with ‘linear’ or ‘log’ interpolation method
* Reference: Gabrielsson J, Weiner D. Pharmacokinetic and Pharmacodynamic Data Analysis - Concepts and Applications. 5th ed. 2016. (<a href="ISBN:9198299107" class="uri">ISBN:9198299107</a>).</p>
</blockquote>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="noncompart.html#cb7-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb7-2"><a href="noncompart.html#cb7-2"></a><span class="kw">library</span>(NonCompart)</span></code></pre></div>
</div>
<div id="how-to-use" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> NonCompart 사용법</h2>
<p>tblNCA의 사용법은 다음과 같습니다.</p>
<pre><code>## function (concData, key = &quot;Subject&quot;, colTime = &quot;Time&quot;, colConc = &quot;conc&quot;, 
##     dose = 0, adm = &quot;Extravascular&quot;, dur = 0, doseUnit = &quot;mg&quot;, 
##     timeUnit = &quot;h&quot;, concUnit = &quot;ug/L&quot;, down = &quot;Linear&quot;, R2ADJ = 0.9, 
##     MW = 0, iAUC = &quot;&quot;) 
## NULL</code></pre>
<!---
```r
tblNCA(concData, key = "Subject", colTime = "Time", colConc = "conc", dose = 0, 
       adm = "Extravascular", dur = 0, doseUnit = "mg", timeUnit = "h", 
       concUnit = "ug/L", down = "Linear", R2ADJ = 0.7, MW = 0) # args(NonCompart::tblNCA)
```
--->
<p><code>concData</code>는 데이터셋 이름을 설정합니다. 참고로 <code>tibble</code> 형식은 지원하지 않기 때문에
<code>readr::read_csv()</code>를 통해 자료를 불러왔다면 <code>as.data.frame()</code> 함수 등을 사용하여 <code>data.frame</code> 형식으로 변환하여야 합니다.
<code>key</code>는 subject ID의 컬럼명 혹은 treatment code의 컬럼명 (교차시험 등에서)을 벡터 형태로 지정할 수 있습니다.
<code>colTime</code>은 time의 컬럼명, <code>colConc</code>는 concentration의 컬럼명 등을 함수 인자로 갖습니다. 그 외 인자들에 대해서 살펴보자면 다음과 같습니다.</p>
<ol style="list-style-type: decimal">
<li><code>down</code>
<ul>
<li>AUC와 AUMC를 구하는 trapezoidal method 설정이며, 기본값은 <code>Linear</code>입니다.</li>
<li><code>Linear</code>와 <code>Log</code> 중 선택 가능하며 각각 linear trapezoidal method와 linear-up and log-down method를 의미합니다.</li>
</ul></li>
<li><code>dose</code>
<ul>
<li>투여량에 대한 설정입니다. 단위에 주의해야 합니다. 벡터값을 줌으로서 각 대상자별 용량을 다르게 할 수 있습니다.</li>
</ul></li>
<li><code>adm</code>
<ul>
<li>투여경로에 대한 설정, 기본값은 “Extravascular”으로 경구 투여 등을 의미합니다.</li>
<li>Bolus, Infusion, Extravascular 중에서 선택 가능하다.</li>
</ul></li>
<li><code>dur</code>
<ul>
<li>주입하는 기간(infusion duration)을 설정합니다. 기본값은 0입니다.</li>
</ul></li>
<li><code>R2ADJ</code>
<ul>
<li><code>R2ADJ</code> 값이 설정값 이하인 경우 <code>DetSlope()</code>함수에 의해 terminal slope를 수동으로 interactive하게 고를 수 있게됩니다.</li>
</ul></li>
</ol>
<p>이제 약동학 파라미터를 산출하기 위해서는 아래와 같이 하면 됩니다.
우선 Theophylline 의 약동학 파라미터를 구해보겠습니다.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="noncompart.html#cb9-1"></a>Theoph_nca &lt;-<span class="st"> </span><span class="kw">tblNCA</span>(Theoph, <span class="st">&quot;Subject&quot;</span>, <span class="st">&quot;Time&quot;</span>, <span class="st">&quot;conc&quot;</span>, </span>
<span id="cb9-2"><a href="noncompart.html#cb9-2"></a>                     <span class="dt">dose=</span><span class="dv">320</span>, <span class="dt">concUnit=</span><span class="st">&quot;mg/L&quot;</span>)</span>
<span id="cb9-3"><a href="noncompart.html#cb9-3"></a>Theoph_nca</span></code></pre></div>
<pre><code>##       ID   b0                 CMAX    CMAXD        TMAX   TLAG CLST  
##  [1,] &quot;1&quot;  &quot;2.36878509420585&quot; &quot;10.5&quot;  &quot;0.0328125&quot;  &quot;1.12&quot; &quot;0&quot;  &quot;3.28&quot;
##  [2,] &quot;2&quot;  &quot;2.41123733696293&quot; &quot;8.33&quot;  &quot;0.02603125&quot; &quot;1.92&quot; &quot;0&quot;  &quot;0.9&quot; 
##  [3,] &quot;3&quot;  &quot;2.52971150145858&quot; &quot;8.2&quot;   &quot;0.025625&quot;   &quot;1.02&quot; &quot;0&quot;  &quot;1.05&quot;
##  [4,] &quot;4&quot;  &quot;2.59275546723663&quot; &quot;8.6&quot;   &quot;0.026875&quot;   &quot;1.07&quot; &quot;0&quot;  &quot;1.15&quot;
##  [5,] &quot;5&quot;  &quot;2.55109229061238&quot; &quot;11.4&quot;  &quot;0.035625&quot;   &quot;1&quot;    &quot;0&quot;  &quot;1.57&quot;
##  [6,] &quot;6&quot;  &quot;2.0334043955261&quot;  &quot;6.44&quot;  &quot;0.020125&quot;   &quot;1.15&quot; &quot;0&quot;  &quot;0.92&quot;
##  [7,] &quot;7&quot;  &quot;2.28854976005424&quot; &quot;7.09&quot;  &quot;0.02215625&quot; &quot;3.48&quot; &quot;0&quot;  &quot;1.15&quot;
##  [8,] &quot;8&quot;  &quot;2.17040271754659&quot; &quot;7.56&quot;  &quot;0.023625&quot;   &quot;2.02&quot; &quot;0&quot;  &quot;1.25&quot;
##  [9,] &quot;9&quot;  &quot;2.12464810390587&quot; &quot;9.03&quot;  &quot;0.02821875&quot; &quot;0.63&quot; &quot;0&quot;  &quot;1.12&quot;
## [10,] &quot;10&quot; &quot;2.65770546248091&quot; &quot;10.21&quot; &quot;0.03190625&quot; &quot;3.55&quot; &quot;0&quot;  &quot;2.42&quot;
## [11,] &quot;11&quot; &quot;2.1475943307927&quot;  &quot;8&quot;     &quot;0.025&quot;      &quot;0.98&quot; &quot;0&quot;  &quot;0.86&quot;
## [12,] &quot;12&quot; &quot;2.82449347826545&quot; &quot;9.75&quot;  &quot;0.03046875&quot; &quot;3.52&quot; &quot;0&quot;  &quot;1.17&quot;
##       CLSTP               TLST    LAMZHL             LAMZ                
##  [1,] &quot;3.28014647414312&quot;  &quot;24.37&quot; &quot;14.304377571097&quot;  &quot;0.0484569969657749&quot;
##  [2,] &quot;0.888639849106919&quot; &quot;24.3&quot;  &quot;6.65934156262252&quot; &quot;0.104086443688432&quot; 
##  [3,] &quot;1.05509670837553&quot;  &quot;24.17&quot; &quot;6.76608737718236&quot; &quot;0.102444314109434&quot; 
##  [4,] &quot;1.15642160174997&quot;  &quot;24.65&quot; &quot;6.98124666099893&quot; &quot;0.0992870205306231&quot;
##  [5,] &quot;1.55569511595616&quot;  &quot;24.35&quot; &quot;8.0022640410078&quot;  &quot;0.0866188839818201&quot;
##  [6,] &quot;0.941271173708175&quot; &quot;23.85&quot; &quot;7.89499786796582&quot; &quot;0.0877957400561702&quot;
##  [7,] &quot;1.16071921229933&quot;  &quot;24.22&quot; &quot;7.84666826130148&quot; &quot;0.0883364961379133&quot;
##  [8,] &quot;1.22852675835656&quot;  &quot;24.12&quot; &quot;8.51003788342506&quot; &quot;0.0814505399453019&quot;
##  [9,] &quot;1.11648311706515&quot;  &quot;24.43&quot; &quot;8.40599880716182&quot; &quot;0.0824586341803179&quot;
## [10,] &quot;2.41369227401111&quot;  &quot;23.7&quot;  &quot;9.24691582297898&quot; &quot;0.0749598237757766&quot;
## [11,] &quot;0.859806606884089&quot; &quot;24.08&quot; &quot;7.26123651504339&quot; &quot;0.0954585598642772&quot;
## [12,] &quot;1.17553904959565&quot;  &quot;24.15&quot; &quot;6.28650816367189&quot; &quot;0.110259489451627&quot; 
##       LAMZLL LAMZUL  LAMZNPT CORRXY               R2                 
##  [1,] &quot;9.05&quot; &quot;24.37&quot; &quot;3&quot;     &quot;-0.99999986483748&quot;  &quot;0.999999729674979&quot;
##  [2,] &quot;7.03&quot; &quot;24.3&quot;  &quot;4&quot;     &quot;-0.998596709529913&quot; &quot;0.99719538828397&quot; 
##  [3,] &quot;9&quot;    &quot;24.17&quot; &quot;3&quot;     &quot;-0.999662423945811&quot; &quot;0.999324961849213&quot;
##  [4,] &quot;9.02&quot; &quot;24.65&quot; &quot;3&quot;     &quot;-0.999461923749821&quot; &quot;0.998924137025692&quot;
##  [5,] &quot;7.02&quot; &quot;24.35&quot; &quot;4&quot;     &quot;-0.999323363372814&quot; &quot;0.998647184582752&quot;
##  [6,] &quot;2.03&quot; &quot;23.85&quot; &quot;7&quot;     &quot;-0.999120281624298&quot; &quot;0.998241337153017&quot;
##  [7,] &quot;6.98&quot; &quot;24.22&quot; &quot;4&quot;     &quot;-0.999334862622512&quot; &quot;0.998670167652754&quot;
##  [8,] &quot;3.53&quot; &quot;24.12&quot; &quot;6&quot;     &quot;-0.995496052943785&quot; &quot;0.991012391426654&quot;
##  [9,] &quot;8.8&quot;  &quot;24.43&quot; &quot;3&quot;     &quot;-0.99972179371205&quot;  &quot;0.999443664822839&quot;
## [10,] &quot;9.38&quot; &quot;23.7&quot;  &quot;3&quot;     &quot;-0.999754311749369&quot; &quot;0.999508683861454&quot;
## [11,] &quot;9.03&quot; &quot;24.08&quot; &quot;3&quot;     &quot;-0.999999127979356&quot; &quot;0.999998255959473&quot;
## [12,] &quot;9.03&quot; &quot;24.15&quot; &quot;3&quot;     &quot;-0.999698355328196&quot; &quot;0.9993968016459&quot;  
##       R2ADJ               AUCLST      AUCALL      AUCIFO            
##  [1,] &quot;0.999999459349959&quot; &quot;148.92305&quot; &quot;148.92305&quot; &quot;216.611933038226&quot;
##  [2,] &quot;0.995793082425955&quot; &quot;91.5268&quot;   &quot;91.5268&quot;   &quot;100.173459143183&quot;
##  [3,] &quot;0.998649923698427&quot; &quot;99.2865&quot;   &quot;99.2865&quot;   &quot;109.535970740547&quot;
##  [4,] &quot;0.997848274051385&quot; &quot;106.7963&quot;  &quot;106.7963&quot;  &quot;118.378881427603&quot;
##  [5,] &quot;0.997970776874129&quot; &quot;121.2944&quot;  &quot;121.2944&quot;  &quot;139.419777837118&quot;
##  [6,] &quot;0.99788960458362&quot;  &quot;73.77555&quot;  &quot;73.77555&quot;  &quot;84.2544183301878&quot;
##  [7,] &quot;0.998005251479131&quot; &quot;90.7534&quot;   &quot;90.7534&quot;   &quot;103.771801796293&quot;
##  [8,] &quot;0.988765489283318&quot; &quot;88.55995&quot;  &quot;88.55995&quot;  &quot;103.906686815243&quot;
##  [9,] &quot;0.998887329645677&quot; &quot;86.32615&quot;  &quot;86.32615&quot;  &quot;99.9087179279482&quot;
## [10,] &quot;0.999017367722909&quot; &quot;138.3681&quot;  &quot;138.3681&quot;  &quot;170.652060635217&quot;
## [11,] &quot;0.999996511918946&quot; &quot;80.0936&quot;   &quot;80.0936&quot;   &quot;89.1027449234385&quot;
## [12,] &quot;0.998793603291801&quot; &quot;119.9775&quot;  &quot;119.9775&quot;  &quot;130.588831558118&quot;
##       AUCIFOD             AUCIFP             AUCIFPD            
##  [1,] &quot;0.676912290744456&quot; &quot;216.614955803818&quot; &quot;0.67692173688693&quot; 
##  [2,] &quot;0.313042059822447&quot; &quot;100.064317640308&quot; &quot;0.312700992625963&quot;
##  [3,] &quot;0.342299908564208&quot; &quot;109.585721753278&quot; &quot;0.342455380478994&quot;
##  [4,] &quot;0.369934004461258&quot; &quot;118.44355857992&quot;  &quot;0.370136120562249&quot;
##  [5,] &quot;0.435686805740995&quot; &quot;139.254630430615&quot; &quot;0.435170720095671&quot;
##  [6,] &quot;0.263295057281837&quot; &quot;84.4966985785753&quot; &quot;0.264052183058048&quot;
##  [7,] &quot;0.324286880613414&quot; &quot;103.893147024686&quot; &quot;0.324666084452144&quot;
##  [8,] &quot;0.324708396297635&quot; &quot;103.643051464786&quot; &quot;0.323884535827455&quot;
##  [9,] &quot;0.312214743524838&quot; &quot;99.8660676588793&quot; &quot;0.312081461433998&quot;
## [10,] &quot;0.533287689485054&quot; &quot;170.567912545332&quot; &quot;0.533024726704162&quot;
## [11,] &quot;0.278446077885745&quot; &quot;89.1007189855217&quot; &quot;0.278439746829755&quot;
## [12,] &quot;0.408090098619118&quot; &quot;130.639068046815&quot; &quot;0.408247087646298&quot;
##       AUCPEO             AUCPEP             AUMCLST        AUMCIFO           
##  [1,] &quot;31.2489169404534&quot; &quot;31.2498763313113&quot; &quot;1459.0711035&quot; &quot;4505.53481941065&quot;
##  [2,] &quot;8.63168669340252&quot; &quot;8.53203003991598&quot; &quot;706.586566&quot;   &quot;999.772287999786&quot;
##  [3,] &quot;9.3571734209797&quot;  &quot;9.39832451573008&quot; &quot;803.18587&quot;    &quot;1150.96476871455&quot;
##  [4,] &quot;9.7843308603032&quot;  &quot;9.83359392402986&quot; &quot;901.0842105&quot;  &quot;1303.25240140958&quot;
##  [5,] &quot;13.0005786254328&quot; &quot;12.8974026752838&quot; &quot;1017.1143165&quot; &quot;1667.72161189007&quot;
##  [6,] &quot;12.4371736674055&quot; &quot;12.688245527848&quot;  &quot;609.1523875&quot;  &quot;978.428485741731&quot;
##  [7,] &quot;12.5452209279821&quot; &quot;12.6473664538854&quot; &quot;782.41986&quot;    &quot;1245.09840831465&quot;
##  [8,] &quot;14.7697297311878&quot; &quot;14.5529307094073&quot; &quot;739.534598&quot;   &quot;1298.11575468474&quot;
##  [9,] &quot;13.5949777052926&quot; &quot;13.5580763078894&quot; &quot;705.2296255&quot;  &quot;1201.77153812025&quot;
## [10,] &quot;18.9180022292417&quot; &quot;18.8780011813617&quot; &quot;1278.180042&quot;  &quot;2473.99342735889&quot;
## [11,] &quot;10.1109622730249&quot; &quot;10.1089184106194&quot; &quot;617.2422125&quot;  &quot;928.559971386069&quot;
## [12,] &quot;8.12575733430562&quot; &quot;8.16108703637935&quot; &quot;977.8807235&quot;  &quot;1330.38400236898&quot;
##       AUMCIFP            AUMCPEO            AUMCPEP           
##  [1,] &quot;4505.67086458209&quot; &quot;67.6160286851172&quot; &quot;67.6170064935417&quot;
##  [2,] &quot;996.071583509104&quot; &quot;29.3252499112927&quot; &quot;29.0626720309864&quot;
##  [3,] &quot;1152.65289026304&quot; &quot;30.2162940315685&quot; &quot;30.318495985664&quot; 
##  [4,] &quot;1305.4981091996&quot;  &quot;30.8588106551423&quot; &quot;30.9777467963968&quot;
##  [5,] &quot;1661.79367436228&quot; &quot;39.011744571249&quot;  &quot;38.7941877387202&quot;
##  [6,] &quot;986.966459689532&quot; &quot;37.7417566662308&quot; &quot;38.280335514986&quot; 
##  [7,] &quot;1249.41106012833&quot; &quot;37.1599983764277&quot; &quot;37.376906210544&quot; 
##  [8,] &quot;1288.52011616077&quot; &quot;43.0301500208197&quot; &quot;42.605894256157&quot; 
##  [9,] &quot;1200.2123597462&quot;  &quot;41.3174964516894&quot; &quot;41.2412628670872&quot;
## [10,] &quot;2470.87654175199&quot; &quot;48.3353501320931&quot; &quot;48.2701777931124&quot;
## [11,] &quot;928.489963582081&quot; &quot;33.5269415524517&quot; &quot;33.5219295081337&quot;
## [12,] &quot;1332.05283411623&quot; &quot;26.4963558071417&quot; &quot;26.5884431567018&quot;
##       MRTEVLST           MRTEVIFO           MRTEVIFP          
##  [1,] &quot;9.79748335465867&quot; &quot;20.8000305256292&quot; &quot;20.8003683211179&quot;
##  [2,] &quot;7.71999639449866&quot; &quot;9.98041094468705&quot; &quot;9.95431345556755&quot;
##  [3,] &quot;8.08957783787323&quot; &quot;10.5076420187191&quot; &quot;10.5182762117325&quot;
##  [4,] &quot;8.43741038313125&quot; &quot;11.0091630001303&quot; &quot;11.0221115006327&quot;
##  [5,] &quot;8.38550103302378&quot; &quot;11.9618725389051&quot; &quot;11.9334895308224&quot;
##  [6,] &quot;8.25683288704727&quot; &quot;11.612785479182&quot;  &quot;11.6805328053348&quot;
##  [7,] &quot;8.62138344128154&quot; &quot;11.9984271908357&quot; &quot;12.0259237101698&quot;
##  [8,] &quot;8.3506663903943&quot;  &quot;12.4930915850769&quot; &quot;12.4322865638375&quot;
##  [9,] &quot;8.1693626496722&quot;  &quot;12.0286954236259&quot; &quot;12.0182198807093&quot;
## [10,] &quot;9.23753409926132&quot; &quot;14.4972959491374&quot; &quot;14.4861744795951&quot;
## [11,] &quot;7.70651103833515&quot; &quot;10.4212274513421&quot; &quot;10.4206786898426&quot;
## [12,] &quot;8.15053425433936&quot; &quot;10.1875787270284&quot; &quot;10.1964355229393&quot;
##       VZFO               VZFP               CLFO              
##  [1,] &quot;30.4867482345887&quot; &quot;30.4863228055447&quot; &quot;1.47729626669981&quot;
##  [2,] &quot;30.6904415765423&quot; &quot;30.7239160557228&quot; &quot;3.19445891892989&quot;
##  [3,] &quot;28.5170999496524&quot; &quot;28.5041534217657&quot; &quot;2.92141474473231&quot;
##  [4,] &quot;27.2259641330176&quot; &quot;27.2110971545992&quot; &quot;2.70318485984093&quot;
##  [5,] &quot;26.4979946505636&quot; &quot;26.5294196385914&quot; &quot;2.29522672438806&quot;
##  [6,] &quot;43.2597344953234&quot; &quot;43.135694392041&quot;  &quot;3.79802040465035&quot;
##  [7,] &quot;34.9084408430805&quot; &quot;34.8676684452056&quot; &quot;3.08368934971535&quot;
##  [8,] &quot;37.8105081118408&quot; &quot;37.9066861615621&quot; &quot;3.07968630131565&quot;
##  [9,] &quot;38.8427934436931&quot; &quot;38.8593822173436&quot; &quot;3.20292369511514&quot;
## [10,] &quot;25.0155401378403&quot; &quot;25.0278813214113&quot; &quot;1.87516048038837&quot;
## [11,] &quot;37.6221852019531&quot; &quot;37.6230406407462&quot; &quot;3.59135961832556&quot;
## [12,] &quot;22.2242935639128&quot; &quot;22.2157473419508&quot; &quot;2.4504392617801&quot; 
##       CLFP              
##  [1,] &quot;1.47727565168591&quot;
##  [2,] &quot;3.19794315842211&quot;
##  [3,] &quot;2.92008844656286&quot;
##  [4,] &quot;2.70170876184947&quot;
##  [5,] &quot;2.29794872178016&quot;
##  [6,] &quot;3.78713021198604&quot;
##  [7,] &quot;3.08008765894795&quot;
##  [8,] &quot;3.08752005539633&quot;
##  [9,] &quot;3.20429158273309&quot;
## [10,] &quot;1.87608557333405&quot;
## [11,] &quot;3.59144127728081&quot;
## [12,] &quot;2.44949695970983&quot;
## attr(,&quot;units&quot;)
##  [1] &quot;&quot;          &quot;&quot;          &quot;mg/L&quot;      &quot;mg/L/mg&quot;   &quot;h&quot;         &quot;h&quot;        
##  [7] &quot;mg/L&quot;      &quot;mg/L&quot;      &quot;h&quot;         &quot;h&quot;         &quot;/h&quot;        &quot;h&quot;        
## [13] &quot;h&quot;         &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;&quot;          &quot;h*mg/L&quot;   
## [19] &quot;h*mg/L&quot;    &quot;h*mg/L&quot;    &quot;h*mg/L/mg&quot; &quot;h*mg/L&quot;    &quot;h*mg/L/mg&quot; &quot;%&quot;        
## [25] &quot;%&quot;         &quot;h2*mg/L&quot;   &quot;h2*mg/L&quot;   &quot;h2*mg/L&quot;   &quot;%&quot;         &quot;%&quot;        
## [31] &quot;h&quot;         &quot;h&quot;         &quot;h&quot;         &quot;L&quot;         &quot;L&quot;         &quot;L/h&quot;      
## [37] &quot;L/h&quot;</code></pre>
<p>여기서 <code>dose=320</code>으로 되었다는 것은 아미노필린 400mg 투여시 테오필린 320mg이 경구로 투여되었음을 의미합니다.</p>
<p>이는 문자(character)로 구성된 matrix로 구성된 결과물과 단위 정보가 담긴 attribute를 포함하고 있습니다.</p>
<p>다음으로 Indomethacin 의 약동학 파라미터를 구해보겠습니다.
이는 IV bolus 이므로 <code>adm="bolus"</code> 인자를 정의해야 합니다.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="noncompart.html#cb11-1"></a>Indometh_nca &lt;-<span class="st"> </span>NonCompart<span class="op">::</span><span class="kw">tblNCA</span>(Indometh, <span class="st">&quot;Subject&quot;</span>, <span class="st">&quot;time&quot;</span>, <span class="st">&quot;conc&quot;</span>, </span>
<span id="cb11-2"><a href="noncompart.html#cb11-2"></a>                       <span class="dt">dose=</span><span class="dv">25</span>, <span class="dt">adm=</span><span class="st">&quot;Bolus&quot;</span>, <span class="dt">dur=</span><span class="fl">0.5</span>, <span class="dt">concUnit=</span><span class="st">&quot;mg/L&quot;</span>, <span class="dt">R2ADJ=</span><span class="fl">0.5</span>)</span></code></pre></div>
</div>
<div id="interval-NCA" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> 구간 NCA</h2>
<ol style="list-style-type: decimal">
<li>iAUC
<ul>
<li>일부구간에 대한 AUC를 구하기 위한 구간설정 옵션입니다.</li>
<li>“Name”, “Start”, “End” 3개의 컬럼으로 구성된 데이터 프레임으로 설정해야 합니다.</li>
</ul></li>
</ol>
<p>일부 구간의 AUC를 구하는 방법은 조금 더 복잡하므로 자세히 알아봅시다.
예를 들어 0~12시간까지의 AUC, 0~24시간까지의 AUC를 구하고자 한다면 다음과 같이 하면 됩니다.
먼저 구하고자 하는 구간에 대한 정보를 갖는 변수를 아래와같이 생성합니다.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="noncompart.html#cb12-1"></a>iAUC &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Name=</span><span class="kw">c</span>(<span class="st">&quot;AUC[0-12h]&quot;</span>,<span class="st">&quot;AUC[0-24h]&quot;</span>), <span class="dt">Start=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">End=</span><span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">24</span>))</span>
<span id="cb12-2"><a href="noncompart.html#cb12-2"></a>iAUC</span></code></pre></div>
<pre><code>##         Name Start End
## 1 AUC[0-12h]     0  12
## 2 AUC[0-24h]     0  24</code></pre>
<pre><code>    Name Start End</code></pre>
<p>1 AUC[0-12h] 0 12
2 AUC[0-24h] 0 24</p>
<p>이제 iAUC 옵션을 이용해서 이를 구합니다.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="noncompart.html#cb15-1"></a><span class="co"># tblNCA(Theoph, &quot;Subject&quot;, &quot;Time&quot;, &quot;conc&quot;, dose=320, iAUC=iAUC)</span></span></code></pre></div>
<p>맨 마지막 파라미터로 AUC[0-12h], AUC[0-24h]가 추가되었음을 알 수 있습니다.</p>
<p>개인별 일부 구간의 AUC를 구하는 방법은 아래와 같다.
예를 들어 0~12시간까지의 AUC, 0~24시간까지의 AUC를 구하고자 한다면 다음과 같이 하면 된다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="noncompart.html#cb16-1"></a>iAUC =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Name=</span><span class="kw">c</span>(<span class="st">&quot;AUC[0-12h]&quot;</span>,<span class="st">&quot;AUC[0-24h]&quot;</span>), <span class="dt">Start=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">End=</span><span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">24</span>)) ; iAUC</span></code></pre></div>
<pre><code>    Name Start End</code></pre>
<p>1 AUC[0-12h] 0 12
2 AUC[0-24h] 0 24</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="noncompart.html#cb18-1"></a><span class="co">#IntAUC</span></span>
<span id="cb18-2"><a href="noncompart.html#cb18-2"></a><span class="co">#IntAUC(Theoph[Theoph$Subject==1,&quot;Time&quot;], Theoph[Theoph$Subject==1, &quot;conc&quot;], Dose=320, iAUC=iAUC)</span></span></code></pre></div>
</div>
<div id="functions" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> 함수 살펴보기</h2>
<!--
NonCompart 패키지 내의 여러가지 함수를 살펴보겠습니다. AUC(), BestSlope(), DetSlope(), IntAUC(), Interpol(), LinAUC(), LogAUC(), Slope(), sNCA(), tblNCA(), Unit(), UnitUrine(), UT()라는 함수가 있습니다.
-->
<div id="auc" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> AUC</h3>
<p>AUC와 AUMC를 ‘Linear trapezoidal method’ 혹은 ’linear-up and log-down method’의 두가지 방식으로 계산하게 됩니다.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="noncompart.html#cb19-1"></a><span class="kw">AUC</span>(Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>, <span class="st">&quot;Time&quot;</span>], Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>, <span class="st">&quot;conc&quot;</span>])</span></code></pre></div>
<pre><code>##            [,1]        [,2]
##  [1,]   0.00000    0.000000
##  [2,]   0.44750    0.088750
##  [3,]   1.95310    0.801534
##  [4,]   6.64735    5.065382
##  [5,]  15.71935   19.138321
##  [6,]  32.13535   66.198241
##  [7,]  42.97695  114.461665
##  [8,]  58.25290  206.281512
##  [9,]  72.75650  322.298798
## [10,]  92.45055  528.521903
## [11,] 148.92305 1459.071104</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="noncompart.html#cb21-1"></a><span class="kw">AUC</span>(Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>, <span class="st">&quot;Time&quot;</span>], Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>, <span class="st">&quot;conc&quot;</span>], <span class="dt">down=</span><span class="st">&quot;Log&quot;</span>)</span></code></pre></div>
<pre><code>##            [,1]        [,2]
##  [1,]   0.00000    0.000000
##  [2,]   0.44750    0.088750
##  [3,]   1.95310    0.801534
##  [4,]   6.64735    5.065382
##  [5,]  15.71410   19.243482
##  [6,]  32.11090   66.830600
##  [7,]  42.95189  115.151380
##  [8,]  58.21173  207.426110
##  [9,]  72.70744  323.774418
## [10,]  92.36544  531.108538
## [11,] 147.23475 1499.129085</code></pre>
</div>
</div>
<div id="long-format" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> 긴 형식으로 변환하면서 단위 추가하기</h2>
<p>NonCompart 패키지의 tblNCA()함수를 사용해서 비구획분석 결과를 내면 attr로 names와 units를 등일 갖게 됩니다. 이를 long format의 tidy data로 변환하는 방법은 다음과 같습니다.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="noncompart.html#cb23-1"></a><span class="kw">left_join</span>(<span class="kw">as_tibble</span>(Theoph_nca) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-2"><a href="noncompart.html#cb23-2"></a><span class="st">            </span><span class="kw">gather</span>(PPTESTCD, PPORRES, <span class="op">-</span>Subject),</span>
<span id="cb23-3"><a href="noncompart.html#cb23-3"></a>          <span class="kw">tibble</span>(<span class="dt">PPTESTCD =</span> <span class="kw">attributes</span>(Theoph_nca)<span class="op">$</span>names,</span>
<span id="cb23-4"><a href="noncompart.html#cb23-4"></a>                 <span class="dt">UNIT =</span> <span class="kw">attributes</span>(Theoph_nca)<span class="op">$</span>units)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-5"><a href="noncompart.html#cb23-5"></a><span class="st">  </span><span class="kw">arrange</span>(PPTESTCD)</span></code></pre></div>
<pre><code>## Error: Can&#39;t subset columns that don&#39;t exist.
## x Column `Subject` doesn&#39;t exist.</code></pre>

</div>
</div>
<h3>참고문헌</h3>
<div id="refs" class="references">
<div id="ref-R-NonCompart">
<p>Bae, Kyun-Seop. 2020. <em>NonCompart: Noncompartmental Analysis for Pharmacokinetic Data</em>. <a href="https://CRAN.R-project.org/package=NonCompart">https://CRAN.R-project.org/package=NonCompart</a>.</p>
</div>
<div id="ref-gab">
<p>Gabrielsson, Johan. 2016. <em>Pharmacokinetic and Pharmacodynamic Data Analysis : Concepts and Applications</em>. Stockholm: Apotekarsocieteten.</p>
</div>
<div id="ref-tozer">
<p>Rowland, Malcolm. 2011. <em>Clinical Pharmacokinetics and Pharmacodynamics : Concepts and Applications</em>. Philadelphia: Wolters Kluwer Health/Lippincott William &amp; Wilkins.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="R-and-packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ncar.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown/edit/master/inst/examples/03.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["book-ncar.pdf", "book-ncar.epub", "book-ncar.mobi"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
