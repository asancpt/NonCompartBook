<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R을 사용한 비구획분석 v0.1.0</title>
  <meta name="description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="R을 사용한 비구획분석 v0.1.0" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://asancpt.github.io/book-ncar" />
  <meta property="og:image" content="http://asancpt.github.io/book-ncarassets/cover.jpg" />
  <meta property="og:description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다." />
  <meta name="github-repo" content="asancpt/book-ncar" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R을 사용한 비구획분석 v0.1.0" />
  
  <meta name="twitter:description" content="이 책은 R 패키지를 사용하여 비구획분석을 쉽게 따라할 수 있도록 쓰여졌습니다. 값비싼 상용소프트웨어와 동일한 결과를 얻으면서, 한번 익혀두면 속도와 연속성 측면에서 잇점이 많은 것을 발견할 수 있을 것입니다. 무엇보다 무료로 사용할 수 있는 R기반의 공개 소프트웨어라는 점에서 많은 연구자 혹은 기관에서 손쉽게 설치하고 실행할 수 있으리라 생각됩니다." />
  <meta name="twitter:image" content="http://asancpt.github.io/book-ncarassets/cover.jpg" />

<meta name="author" content="배균섭">
<meta name="author" content="한성필">
<meta name="author" content="윤석규">
<meta name="author" content="조용순">


<meta name="date" content="2017-09-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="noncompart.html">
<link rel="next" href="pkr.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">R을 사용한 비구획분석</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>책 머리에</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i>감사의 글</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> 비구획 분석이란</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#summary-introduction"><i class="fa fa-check"></i><b>1.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#section-1.2"><i class="fa fa-check"></i><b>1.2</b> 약동학</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#method"><i class="fa fa-check"></i><b>1.3</b> 비구획 분석 이론 및 계산 방법</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>2</b> R 패키지</a><ul>
<li class="chapter" data-level="2.1" data-path="r-packages.html"><a href="r-packages.html#summary-r-packages"><i class="fa fa-check"></i><b>2.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="2.2" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>2.2</b> 패키지에 대하여</a></li>
<li class="chapter" data-level="2.3" data-path="r-packages.html"><a href="r-packages.html#section-2.3"><i class="fa fa-check"></i><b>2.3</b> 설치</a></li>
<li class="chapter" data-level="2.4" data-path="index.html"><a href="index.html#-"><i class="fa fa-check"></i><b>2.4</b> 기타 설치</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="noncompart.html"><a href="noncompart.html"><i class="fa fa-check"></i><b>3</b> R을 사용한 비구획분석</a><ul>
<li class="chapter" data-level="3.1" data-path="noncompart.html"><a href="noncompart.html#summary-noncompart"><i class="fa fa-check"></i><b>3.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="3.2" data-path="noncompart.html"><a href="noncompart.html#TheophData"><i class="fa fa-check"></i><b>3.2</b> 데이타에 대해</a></li>
<li class="chapter" data-level="3.3" data-path="noncompart.html"><a href="noncompart.html#noncompart-"><i class="fa fa-check"></i><b>3.3</b> NonCompart 사용법</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ncar.html"><a href="ncar.html"><i class="fa fa-check"></i><b>4</b> R을 사용한 비구획분석 보고서</a><ul>
<li class="chapter" data-level="4.1" data-path="ncar.html"><a href="ncar.html#summary-ncar"><i class="fa fa-check"></i><b>4.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="4.2" data-path="ncar.html"><a href="ncar.html#ncar-"><i class="fa fa-check"></i><b>4.2</b> ncar 사용법</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pkr.html"><a href="pkr.html"><i class="fa fa-check"></i><b>5</b> R을 사용한 비구획분석 시각화</a><ul>
<li class="chapter" data-level="5.1" data-path="pkr.html"><a href="pkr.html#summary-pkr"><i class="fa fa-check"></i><b>5.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="5.2" data-path="pkr.html"><a href="pkr.html#pkr-"><i class="fa fa-check"></i><b>5.2</b> pkr 사용법</a></li>
<li class="chapter" data-level="5.3" data-path="pkr.html"><a href="pkr.html#pros"><i class="fa fa-check"></i><b>5.3</b> Pros</a></li>
<li class="chapter" data-level="5.4" data-path="pkr.html"><a href="pkr.html#cons"><i class="fa fa-check"></i><b>5.4</b> Cons</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="result.html"><a href="result.html"><i class="fa fa-check"></i><b>6</b> 결과 및 논의</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> 결론</a></li>
<li class="appendix"><span><b>부록</b></span></li>
<li class="chapter" data-level="A" data-path="softwares.html"><a href="softwares.html"><i class="fa fa-check"></i><b>A</b> 비구획분석 소프트웨어</a><ul>
<li class="chapter" data-level="A.1" data-path="softwares.html"><a href="softwares.html#detailschapter"><i class="fa fa-check"></i><b>A.1</b> 이 장에서는</a></li>
<li class="chapter" data-level="A.2" data-path="softwares.html"><a href="softwares.html#certara-phoenix-winnonlin"><i class="fa fa-check"></i><b>A.2</b> Certara Phoenix WinNonLin</a><ul>
<li class="chapter" data-level="A.2.1" data-path="softwares.html"><a href="softwares.html#pros-1"><i class="fa fa-check"></i><b>A.2.1</b> Pros</a></li>
<li class="chapter" data-level="A.2.2" data-path="softwares.html"><a href="softwares.html#cons-1"><i class="fa fa-check"></i><b>A.2.2</b> Cons</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="softwares.html"><a href="softwares.html#r-package-pknca"><i class="fa fa-check"></i><b>A.3</b> R package: PKNCA</a><ul>
<li class="chapter" data-level="A.3.1" data-path="softwares.html"><a href="softwares.html#isop-pharmacometrics-study-group-presentation"><i class="fa fa-check"></i><b>A.3.1</b> ISoP Pharmacometrics Study Group Presentation</a></li>
<li class="chapter" data-level="A.3.2" data-path="softwares.html"><a href="softwares.html#-nca----."><i class="fa fa-check"></i><b>A.3.2</b> 오픈소스 NCA - 지금이 적기이다.</a></li>
<li class="chapter" data-level="A.3.3" data-path="ms-35-ncar.html"><a href="#section-A.3.3"><i class="fa fa-check"></i><b>A.3.3</b> 한계</a></li>
<li class="chapter" data-level="A.3.4" data-path="softwares.html"><a href="softwares.html#pknca--0.7"><i class="fa fa-check"></i><b>A.3.4</b> PKNCA 현재는 0.7</a></li>
<li class="chapter" data-level="A.3.5" data-path="softwares.html"><a href="softwares.html#pknca--1.0-."><i class="fa fa-check"></i><b>A.3.5</b> PKNCA 곧 1.0이 나올것이다.</a></li>
<li class="chapter" data-level="A.3.6" data-path="ms-35-ncar.html"><a href="#section-A.3.6"><i class="fa fa-check"></i><b>A.3.6</b> 참고사항</a></li>
<li class="chapter" data-level="A.3.7" data-path="softwares.html"><a href="softwares.html#rstudio--hands-on-"><i class="fa fa-check"></i><b>A.3.7</b> RStudio를 사용한 Hands-on 실습</a></li>
<li class="chapter" data-level="A.3.8" data-path="softwares.html"><a href="softwares.html#closing"><i class="fa fa-check"></i><b>A.3.8</b> Closing</a></li>
<li class="chapter" data-level="A.3.9" data-path="ms-35-ncar.html"><a href="#section-A.3.9"><i class="fa fa-check"></i><b>A.3.9</b> 결론</a></li>
<li class="chapter" data-level="A.3.10" data-path="softwares.html"><a href="softwares.html#pros-2"><i class="fa fa-check"></i><b>A.3.10</b> Pros</a></li>
<li class="chapter" data-level="A.3.11" data-path="softwares.html"><a href="softwares.html#cons-2"><i class="fa fa-check"></i><b>A.3.11</b> Cons</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="softwares.html"><a href="softwares.html#r-package-ncappc"><i class="fa fa-check"></i><b>A.4</b> R package: ncappc</a></li>
<li class="chapter" data-level="A.5" data-path="softwares.html"><a href="softwares.html#r-package-pk"><i class="fa fa-check"></i><b>A.5</b> R package: PK</a></li>
<li class="chapter" data-level="A.6" data-path="softwares.html"><a href="softwares.html#kinetica"><i class="fa fa-check"></i><b>A.6</b> Kinetica</a></li>
<li class="chapter" data-level="A.7" data-path="softwares.html"><a href="softwares.html#scientist"><i class="fa fa-check"></i><b>A.7</b> Scientist</a></li>
<li class="chapter" data-level="A.8" data-path="softwares.html"><a href="softwares.html#pksolver"><i class="fa fa-check"></i><b>A.8</b> PKSolver</a></li>
<li class="chapter" data-level="A.9" data-path="softwares.html"><a href="softwares.html#summary"><i class="fa fa-check"></i><b>A.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sessioninfo.html"><a href="sessioninfo.html"><i class="fa fa-check"></i>sessionInfo</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://github.com/asancpt/book-ncar">book-ncar Github 저장소</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R을 사용한 비구획분석 v0.1.0</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ncar" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> R을 사용한 비구획분석 보고서</h1>
<div id="summary-ncar" class="section level2">
<h2><span class="header-section-number">4.1</span> 이 장에서는</h2>
<p>보고서를 일정한 형식으로 작성하여 다른 사람/기관과 공유하는 것은 중요합니다. 이를 <code>ncar</code> 패키지를 사용하여 좀더 쉽게 할 수 있습니다.</p>
</div>
<div id="ncar-" class="section level2">
<h2><span class="header-section-number">4.2</span> ncar 사용법</h2>
<p>약동학 파라이터를 보고서 형식의 text 파일로 저장해보자.</p>
<p>우선 저장될 폴더를 확인해면,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/Users/shanmdphd/asancpt/book-ncar&quot;</code></pre>
<p>저장될 폴더를 변경하고자 한다면 setwd(“저장될 경로”) 이렇게 설정하면 된다. 위에서 사용한 NCA 명령어에 Report=“Text” 라는 옵션을 추가하면 된다. 먼저, Theophilline 자료의 약동학 파라미터 분석 결과는 아래와 같이 텍스트파일로 저장할 수 있다.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#writeLines(NCA(Theoph, &quot;Subject&quot;, &quot;Time&quot;, &quot;conc&quot;, Dose=320, Report=&quot;Text&quot;), &quot;Theoph_Linear_CoreOutput.txt&quot;)</span></code></pre></div>
<p>저장된 파일 내용은 아래와 같다.</p>
<pre><code>NCA REPORT
Subject=1

                        NONCOMPARTMENTAL ANALYSIS REPORT
                       Package version 0.2.6 (2017-01-01)
                          R version 3.3.3 (2017-03-06)

Date and Time: 2017-03-11 20:46:33 KST

Calculation Setting
-------------------
Drug Administration: Extravascular
Observation count excluding trailing zero: 11
Dose at time 0: 320
AUC Calculation method: Linear-up Linear-down method
Weighting for lambda z: Uniform (Ordinary Least Square, OLS)
Lambda z selection criterion: Heighest adjusted R-squared value with precision=1e-4


Fitting, AUC, AUMC Result
-------------------------
      Time         Conc.      Pred.   Residual       AUC       AUMC      Weight
-------------------------------------------------------------------------------
     0.0000       0.7400                           0.0000     0.0000            
     0.2500       2.8400                           0.4475     0.0888            
     0.5700       6.5700                           1.9531     0.8015            
     1.1200      10.5000                           6.6474     5.0654            
     2.0200       9.6600                          15.7194    19.1383            
     3.8200       8.5800                          32.1354    66.1982            
     5.1000       8.3600                          42.9769   114.4617            
     7.0300       7.4700                          58.2529   206.2815            
     9.0500 *     6.8900     6.8912 -1.228e-03    72.7565   322.2988     1.0000
    12.1200 *     5.9400     5.9387 +1.324e-03    92.4505   528.5219     1.0000
    24.3700 *     3.2800     3.2801 -1.465e-04   148.9231  1459.0711     1.0000

\*: Used for the calculation of Lambda z.


Calculated Values
-----------------
CMAX       Max Conc                                       10.5000
CMAXD      Max Conc Norm by Dose                           0.0328
TMAX       Time of CMAX                                    1.1200
TLAG       Time Until First Nonzero Conc                   0.0000
CLST       Last Nonzero Conc                               3.2800</code></pre>
<p>개인별 약동학 파라미터를 구하려면 아래와 같이 할 수 있다. IndiNCA를 사용하면 되며, NCA와의 차이점은 데이터셋과 subject 설정이 빠진다는 점이다.</p>
<blockquote>
<p>IndiNCA(Theoph[Theoph$Subject==1,“Time”], Theoph[Theoph$Subject==1, “conc”], Dose=320) CMAX CMAXD TMAX TLAG CLST CLSTP TLST LAMZHL LAMZ 10.5000000 0.0328125 1.1200000 0.0000000 3.2800000 3.2801465 24.3700000 14.3043776 0.0484570 LAMZLL LAMZUL LAMZNPT CORRXY R2 R2ADJ AUCLST AUCALL AUCIFO 9.0500000 24.3700000 3.0000000 -0.9999999 0.9999997 0.9999995 148.9230500 148.9230500 216.6119330 AUCIFOD AUCPEO AUCIFP AUCIFPD AUCPEP AUMCLST AUMCIFO AUMCPEO AUMCIFP 0.6769123 31.2489169 216.6149558 0.6769217 31.2498763 1459.0711035 4505.5348194 67.6160287 4505.6708646 AUMCPEP MRTEVLST MRTEVIFO MRTEVIFP VZFO VZFP CLFO CLFP 67.6170065 9.7974834 20.8000305 20.8003683 30.4867482 30.4863228 1.4772963 1.4772757</p>
</blockquote>
<p>개인별 약동학 파라미터를 보고서 형식의 text 파일로 저장해보자. Report 옵션을 추가하면 된다. Report=“Text” 를 추가해보자.</p>
<blockquote>
<p>IndiNCA(Theoph[Theoph$Subject==1,“Time”], Theoph[Theoph$Subject==1, “conc”], Dose=320, Report=“Text”) [1] &quot; NONCOMPARTMENTAL ANALYSIS REPORT&quot;<br />
[2] &quot; Package version 0.2.6 (2017-01-01)&quot;<br />
[3] &quot; R version 3.3.3 (2017-03-06)&quot;<br />
[4] “”<br />
[5] “Date and Time: 2017-03-11 21:12:40 KST”<br />
[6] “”<br />
[7] “Calculation Setting”<br />
[8] “——————-”<br />
[9] “Drug Administration: Extravascular”<br />
[10] “Observation count excluding trailing zero: 11”<br />
[11] “Dose at time 0: 320”<br />
[12] “AUC Calculation method: Linear-up Linear-down method”<br />
[13] “Weighting for lambda z: Uniform (Ordinary Least Square, OLS)”<br />
[14] “Lambda z selection criterion: Heighest adjusted R-squared value with precision=1e-4” [15] “”<br />
[16] “”<br />
[17] “Fitting, AUC, AUMC Result”<br />
[18] “————————-”<br />
[19] &quot; Time Conc. Pred. Residual AUC AUMC Weight&quot;<br />
[20] “——————————————————————————-”<br />
[21] &quot; 0.0000 0.7400 0.0000 0.0000 &quot;<br />
[22] &quot; 0.2500 2.8400 0.4475 0.0888 &quot;<br />
[23] &quot; 0.5700 6.5700 1.9531 0.8015 &quot;<br />
[24] &quot; 1.1200 10.5000 6.6474 5.0654 &quot;<br />
[25] &quot; 2.0200 9.6600 15.7194 19.1383 &quot;<br />
[26] &quot; 3.8200 8.5800 32.1354 66.1982 &quot;<br />
[27] &quot; 5.1000 8.3600 42.9769 114.4617 &quot;<br />
[28] &quot; 7.0300 7.4700 58.2529 206.2815 &quot;<br />
[29] &quot; 9.0500 * 6.8900 6.8912 -1.228e-03 72.7565 322.2988 1.0000&quot;<br />
[30] &quot; 12.1200 * 5.9400 5.9387 +1.324e-03 92.4505 528.5219 1.0000&quot;<br />
[31] &quot; 24.3700 * 3.2800 3.2801 -1.465e-04 148.9231 1459.0711 1.0000&quot;<br />
[32] “”<br />
[33] “*: Used for the calculation of Lambda z.&quot;<br />
[34] “”<br />
[35] “”<br />
[36] “Calculated Values”<br />
[37] “—————–”<br />
[38] “CMAX Max Conc 10.5000”<br />
[39] “CMAXD Max Conc Norm by Dose 0.0328”<br />
[40] “TMAX Time of CMAX 1.1200”<br />
[41] “TLAG Time Until First Nonzero Conc 0.0000”<br />
[42] “CLST Last Nonzero Conc 3.2800”<br />
[43] “CLSTP Last Nonzero Conc Pred 3.2801”<br />
[44] “TLST Time of Last Nonzero Conc 24.3700”<br />
[45] “LAMZHL Half-Life Lambda z 14.3044”<br />
[46] “LAMZ Lambda z 0.0485”<br />
[47] “LAMZLL Lambda z Lower Limit 9.0500”<br />
[48] “LAMZUL Lambda z Upper Limit 24.3700”<br />
[49] “LAMZNPT Number of Points for Lambda z 3”<br />
[50] “CORRXY Correlation Between TimeX and Log ConcY -1.0000”<br />
[51] “R2 R Squared 1.0000”<br />
[52] “R2ADJ R Squared Adjusted 1.0000”<br />
[53] “AUCLST AUC to Last Nonzero Conc 148.9231”<br />
[54] “AUCALL AUC All 148.9231”<br />
[55] “AUCIFO AUC Infinity Obs 216.6119”<br />
[56] “AUCIFOD AUC Infinity Obs Norm by Dose 0.6769”<br />
[57] “AUCPEO AUC %Extrapolation Obs 31.2489”<br />
[58] “AUCIFP AUC Infinity Pred 216.6150”<br />
[59] “AUCIFPD AUC Infinity Pred Norm by Dose 0.6769”<br />
[60] “AUCPEP AUC %Extrapolation Pred 31.2499”<br />
[61] “AUMCLST AUMC to Last Nonzero Conc 1459.0711”<br />
[62] “AUMCIFO AUMC Infinity Obs 4505.5348”<br />
[63] “AUMCPEO AUMC %Extrapolation Obs 67.6160”<br />
[64] “AUMCIFP AUMC Infinity Pred 4505.6709”<br />
[65] “AUMCPEP AUMC % Extrapolation Pred 67.6170”<br />
[66] “MRTEVLST MRT Extravasc to Last Nonzero Conc 9.7975”<br />
[67] “MRTEVIFO MRT Extravasc Infinity Obs 20.8000”<br />
[68] “MRTEVIFP MRT Extravasc Infinity Pred 20.8004”<br />
[69] “VZFO Vz Obs by F 30.4867”<br />
[70] “VZFP Vz Pred by F 30.4863”<br />
[71] “CLFO Total CL Obs by F 1.4773”<br />
[72] “CLFP Total CL Pred by F 1.4773”</p>
</blockquote>
<p>개인별 일부 구간의 AUC를 구하는 방법은 아래와 같다. 예를 들어 0~12시간까지의 AUC, 0~24시간까지의 AUC를 구하고자 한다면 다음과 같이 하면 된다.</p>
<blockquote>
<p>iAUC = data.frame(Name=c(“AUC[0-12h]”,“AUC[0-24h]”), Start=c(0,0), End=c(12,24)) ; iAUC</p>
</blockquote>
<pre><code>    Name Start End</code></pre>
<p>1 AUC[0-12h] 0 12 2 AUC[0-24h] 0 24</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IntAUC</code></pre></div>
<pre><code>## function (x, y, t1, t2, Res, fit = &quot;Linear&quot;) 
## {
##     n = length(x)
##     if (n != length(y) | !is.numeric(x) | !is.numeric(y)) 
##         stop(&quot;Bad Input!&quot;)
##     if (t1 &gt; Res[&quot;TLST&quot;]) 
##         stop(&quot;Start time of interval AUC is after Tlast.&quot;)
##     tL = Res[&quot;TLST&quot;]
##     if (t2 &gt; tL &amp; is.na(Res[&quot;LAMZ&quot;])) 
##         return(NA)
##     newSeries = Interpol(x, y, t1, Res[&quot;LAMZ&quot;], Res[&quot;b0&quot;], fit = fit)
##     newSeries = Interpol(newSeries[[1]], newSeries[[2]], t2, 
##         Res[&quot;LAMZ&quot;], Res[&quot;b0&quot;], fit = fit)
##     x = newSeries[[1]]
##     y = newSeries[[2]]
##     if (fit == &quot;Linear&quot;) {
##         if (t2 &lt;= tL) {
##             ResIntAUC = LinAUC(x[x &gt;= t1 &amp; x &lt;= t2], y[x &gt;= t1 &amp; 
##                 x &lt;= t2])[[1]]
##         }
##         else {
##             ResIntAUC = LinAUC(x[x &gt;= t1 &amp; x &lt;= tL], y[x &gt;= t1 &amp; 
##                 x &lt;= tL])[[1]] + LogAUC(x[x &gt;= tL &amp; x &lt;= t2], 
##                 y[x &gt;= tL &amp; x &lt;= t2])[[1]]
##         }
##     }
##     else if (fit == &quot;Log&quot;) {
##         ResIntAUC = LogAUC(x[x &gt;= t1 &amp; x &lt;= t2], y[x &gt;= t1 &amp; 
##             x &lt;= t2])[[1]]
##     }
##     else stop(&quot;Unknown fit!&quot;)
##     return(ResIntAUC)
## }
## &lt;environment: namespace:pkr&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">IntAUC</span>(Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>,<span class="st">&quot;Time&quot;</span>], Theoph[Theoph<span class="op">$</span>Subject<span class="op">==</span><span class="dv">1</span>, <span class="st">&quot;conc&quot;</span>], <span class="dt">Dose=</span><span class="dv">320</span>, <span class="dt">iAUC=</span>iAUC)</code></pre></div>
<pre><code>## Error in IntAUC(Theoph[Theoph$Subject == 1, &quot;Time&quot;], Theoph[Theoph$Subject == : 사용되지 않은 인자 (Dose = 320, iAUC = iAUC)</code></pre>
<pre><code>        CMAX        CMAXD         TMAX         TLAG         CLST        CLSTP         TLST       LAMZHL         LAMZ 
  10.5000000    0.0328125    1.1200000    0.0000000    3.2800000    3.2801465   24.3700000   14.3043776    0.0484570 
      LAMZLL       LAMZUL      LAMZNPT       CORRXY           R2        R2ADJ       AUCLST       AUCALL       AUCIFO 
   9.0500000   24.3700000    3.0000000   -0.9999999    0.9999997    0.9999995  148.9230500  148.9230500  216.6119330 
     AUCIFOD       AUCPEO       AUCIFP      AUCIFPD       AUCPEP      AUMCLST      AUMCIFO      AUMCPEO      AUMCIFP 
   0.6769123   31.2489169  216.6149558    0.6769217   31.2498763 1459.0711035 4505.5348194   67.6160287 4505.6708646 
     AUMCPEP     MRTEVLST     MRTEVIFO     MRTEVIFP         VZFO         VZFP         CLFO         CLFP   AUC[0-12h] 
  67.6170065    9.7974834   20.8000305   20.8003683   30.4867482   30.4863228    1.4772963    1.4772757   91.7355220 
  AUC[0-24h] 
 147.6945866 </code></pre>
<p>김민걸 선생님 자료를 옮겨와서 변형합니다. <a href="http://blog.naver.com/kimmingul" class="uri">http://blog.naver.com/kimmingul</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="noncompart.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pkr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/asancpt/book-ncar/edit/master/bookdown/ms-35-ncar.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
